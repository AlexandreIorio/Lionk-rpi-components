@using Lionk.Core.Component
@using Lionk.Core.View
@using Lionk.TemperatureSensor
@using MudBlazor
@attribute [ViewOfAttribute("DS18B20 détail view", typeof(DS18B20), typeof(DS18B20Detail), ViewContext.Detail)]

<MudText Typo="Typo.h3">DS18B20 temperature Sensor</MudText>
<MudText Typo="Typo.h5">@_component.InstanceName</MudText>
<MudGrid>
    <MudItem xs="12" style="display: flex;">
        <MudText style="flex: 1;" Typo="Typo.h6">Temperature</MudText>
        <MudText style="flex: 1;" Typo="Typo.body1">@_component.Measures[(int)_component.TemperatureType].Value @_component.Measures[(int)_component.TemperatureType].Unit</MudText>
    </MudItem>

    <MudItem xs="12" style="display: flex;">
        <MudText style="flex: 1;" Typo="Typo.h6">Time</MudText>
        <MudText style="flex: 1;" Typo="Typo.body1">@_component.LastRead.ToString("hh.mm.ss")</MudText>
    </MudItem>

    <MudItem xs="12" style="display: flex;">
        <MudText style="flex: 1;" Typo="Typo.h6">Read frequency</MudText>
        <MudText style="flex: 1;" Typo="Typo.body1">@_component.ExecutionFrequency.Seconds sec.</MudText>
    </MudItem>

    <MudItem xs="12" style="display: flex;">
        <MudText style="flex: 1;" Typo="Typo.h6">Is interfered</MudText>
        <MudText style="flex: 1;" Typo="Typo.body1">@_component.IsInterfered</MudText>
    </MudItem>

    <MudItem xs="12" style="display: flex;">
        <MudText style="flex: 1;" Typo="Typo.h6">Bus address</MudText>
        <MudText style="flex: 1;" Typo="Typo.body1">@_component.Address</MudText>
    </MudItem>
</MudGrid>







@code {

    [Parameter] public DS18B20? Component { get; set; }
    private DS18B20 _component = new();

    protected override void OnInitialized()
    {
        base.OnInitialized();
        ArgumentNullException.ThrowIfNull(Component);
        _component = Component;
    }

}
