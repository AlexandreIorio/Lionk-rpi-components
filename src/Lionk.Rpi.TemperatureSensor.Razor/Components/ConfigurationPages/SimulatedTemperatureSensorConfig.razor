@using Lionk.Core.Component
@using Lionk.Core.View
@using MudBlazor
@namespace Lionk.TemperatureSensor
@attribute [ViewOfAttribute("Simulated temperature sensor configuration", typeof(SimulatedTemperatureSensor), typeof(SimulatedTemperatureSensorConfig), ViewContext.Configuration)]

<MudTextField @bind-Value="_component.InstanceName" Label="Name" />
<MudTextField @bind-Value="_component.MinSimulatedTemperature" Label="Min simulation temp." />
<MudTextField @bind-Value="_component.MaxSimulatedTemperature" Label="Max simulation temp." />
<MudTextField @bind-Value="_component.BusyDuration" Label="Time to simulate a read" />
<MudRadioGroup @bind-Value="_component.TemperatureType">
    @foreach (TemperatureType type in Enum.GetValues(typeof(TemperatureType)))
    {
        <MudRadio Value="@type">@type.GetUnit()</MudRadio>
    }
</MudRadioGroup>

@code {
    [Parameter] public SimulatedTemperatureSensor? Component { get; set; }
    private SimulatedTemperatureSensor _component = new SimulatedTemperatureSensor();

    protected override void OnInitialized()
    {
        base.OnInitialized();
        ArgumentNullException.ThrowIfNull(Component);
        _component = Component;
    }
}
